<form [formGroup]="theForm">

  <div class="main">

    <h1 class="mt-50">Dynamic Form Fields</h1>

    <mat-form-field appearance="outline">
      <mat-label>Name</mat-label>
      <input autocomplete="off" matInput formControlName='name'>
      <mat-error *ngIf="theForm.get('name')?.hasError('required')">Name Required</mat-error>
    </mat-form-field>

    

    <div formArrayName='phone'>

      <div *ngFor="let phone of Phone.controls; let i=index" [formGroupName]='i'>

        <mat-form-field appearance="outline">
          <mat-label>Phone</mat-label>
          <input autocomplete="off" matInput formControlName='phone'>
        </mat-form-field>

        <button class="ml-8" mat-raised-button color='primary' (click)="deletePhone(i)" [disabled]='Phone.length == 1'>-</button>
        <button class="ml-8" mat-raised-button color='primary' (click)="addPhone()">+</button>

      </div>

    </div>

    
    <button mat-raised-button color='primary' class="mt-16" (click)="formValue()">Submit</button>

    <h4 class="mt-16">
      {{theForm.controls.name.value}}
      
    </h4>

    <h4>
        {{formVal | json}}
    </h4>

  </div>

</form>